const m3uData = `#EXTM3U
#EXTINF:-1, cartoon network 1
https://playout.cdn.cartoonnetwork.com.br/playout_06/playlist.m3u8
#EXTINF:-1, cartoon network 2
https://playout.cdn.cartoonnetwork.com.br/playout_02/playlist.m3u8
#EXTINF:-1, cartoon network kids
https://playout.cdn.cartoonnetwork.com.br/playout_04/playlist.m3u8
#EXTINF:-1, cartoonito
https://playout.cdn.cartoonnetwork.com.br/playout_08/playlist.m3u8
#EXTINF:-1, canal 7 jujuy
https://stream.arcast.live/canal7jujuy/ngrp:canal7jujuy_all/playlist.m3u8
#EXTINF:-1, canal 7 catamarca
https://stream.arcast.com.ar/canal7catamarca/ngrp:canal7catamarca_all/playlist.m3u8?DVR=
#EXTINF:-1, catamarca
https://stream.arcast.com.ar/envivo/castv/playlist.m3u8
#EXTINF:-1, canal 8
https://stream.arcast.com.ar/c8mdp/ngrp:c8mdp_all/playlist.m3u8
#EXTINF:-1, TVP
https://inliveserver.com:1936/17012/17012/playlist.m3u8
#EXTINF:-1, CN51 
https://tvcn51.com/hls/cn51480.m3u8
#EXTINF:-1, 14 TV
https://tv.livestreaminggroup.info:3052/live/catorcetvlive.m3u8
#EXTINF:-1,Canal E
https://unlimited1-us.dps.live/perfiltv/perfiltv.smil/playlist.m3u8
#EXTINF:-1, nubeh TV
https://vcp.myplaytv.com/nubehtv/nubehtv/playlist.m3u8
#EXTINF:-1, Rural
https://streamlovcd1.alsolnet.com/elrural/live/playlist.m3u8
#EXTINF:-1, canal coco TV
https://cloudflare.streamgato.us:3253/live/canalcocotvlive.m3u8
#EXTINF:-1, Cosmos TV
https://tv.mediacp.eu:19360/cosmos/cosmos.m3u8
#EXTINF:-1, Dance FM
https://5eaccbab48461.streamlock.net:1936/dancefm_1/dancefm_1/playlist.m3u8
#EXTINF:-1, Dattalive
https://panel.dattalive.com/8066/8066/playlist.m3u8
#EXTINF:-1, Galicia
https://america-crtvg.flumotion.com/playlist.m3u8
#EXTINF:-1, RDS3
https://rds3.desdeparaguay.net/gotv/gotv/playlist.m3u8
#EXTINF:-1, La-X
https://stream.eleden.com/livelax/ngrp:livelax_all/playlist.m3u8
#EXTINF:-1, Latina TV
https://ss3.domint.net:3156/ltv_str/latinatvint/playlist.m3u8
#EXTINF:-1, Play
https://vivo.solumedia.com:19360/playtv/playtv.m3u8
#EXTINF:-1, Tierra Fertil
https://5fc584f3f19c9.streamlock.net/agrotendencia/videoagrotendencia_hls1/playlist.m3u8
#EXTINF:-1, ADN
https://jireh-1-hls-video-ar-isp.dps.live/hls-video/931b584451fa6dd1313ee66efbfd5802e3f3bcea/adntv/adntv.smil/playlist.m3u8?dpssid=05f031a62c4c684b8502dfb8e217bbe6&sid=ba5t1l1xb41114139504656176013a193&ndvc=0
#EXTINF:-1, C21 TV
https://iptv.ixfo.com.ar:30443/c21tv/hd/c21tv/playlist.m3u8
#EXTINF:-1, Pandamax
https://stream.wifiexpert.cl/telenorte/pandamaxch/playlist.m3u8
#EXTINF:-1, Platzi
https://us-b4-p-e-cg11.cdn.mdstrm.com/live-stream/647101bf042584086ee61125/playout/master.m3u8?aid=512e13acaca1ebcd2f000279&pid=wAuV9hLWmDvnxNtFLRNTx8MB5t6gEDr1&sid=0uFXFeDPe35DNfMqV9mk2ZNwxw7PewQv&uid=9MLiGOv1K6paCAIZ44P2nP6osoOvUnu8&es=us-b4-p-e-cg11.cdn.mdstrm.com&ote=1700973115065&ot=MVAUNKey6dc4jvRV4fPngA&proto=https&pz=us
#EXTINF:-1, INT CGTN Español
https://livees.cgtn.com/1000e/prog_index.m3u8
#EXTINF:-1, Extrema TV
http://livestreamcdn.net:1935/ExtremaTV/ExtremaTV/playlist.m3u8
#EXTINF:-1, Estrella TV
https://estrellatv-roku.amagi.tv/playlist.m3u8
#EXTINF:-1, AGUAS CALIENTE
http://streamingcws10.com:1935/telemetrika3/videotelemetrika3/.m3u8
#EXTINF:-1, Cartoon network
https://playout.cdn.cartoonnetwork.com.br/playout_02/playlist-720p.m3u8
#EXTINF:-1, Argentinisima
https://stream1.sersat.com/hls/argentinisima.m3u8
#EXTINF:-1, ATV Argentina
https://stream.arcast.com.ar/atbargentina/atbargentina/playlist.m3u8
#EXTINF:-1, Canal 13 La Rioja
http://arcast.net:1935/mp/mp/playlist.m3u8
#EXTINF:-1, Canal 21 TV
https://iptv.ixfo.com.ar:30443/c21tv/hd/c21tv/playlist.m3u8
#EXTINF:-1, 907 FM
https://panel.dattalive.com/canal907/canal907/playlist.m3u8
#EXTINF:-1, El Trece
https://live-01-02-eltrece.vodgc.net/eltrecetv/index.m3u8
#EXTINF:-1, Neo TV
https://videostream.shockmedia.com.ar:19360/neotvdigital/neotvdigital.m3u8
#EXTINF:-1, TN
https://live-01-01-tn.vodgc.net/TN24/index.m3u8
#EXTINF:-1, xtrema Anime
https://stmv1.cnarlatam.com/xtremaanime/xtremaanime/playlist.m3u8
#EXTINF:-1, Retro cartoon
https://stmv1.cnarlatam.com/retroinfantil/retroinfantil/playlist.m3u8
#EXTINF:-1, Sextavision
https://5ff3d9babae13.streamlock.net/8020/8020/playlist.m3u8
#EXTINF:-1, Telemax
https://cdn2.streamgato.us/telemax/telemax/playlist.m3u8
#EXTINF:-1, Latino Kids
https://6362ca6f1fc28.streamlock.net/8062/8062/playlist.m3u8
#EXTINF:-1, Sports Max 
http://vcpar.myplaytv.com/esportsmax/live/playlist.m3u8
#EXTINF:-1, Litus
http://192.99.38.174:1935/litustv/ngrp:litustv_all/playlist.m3u8
#EXTINF:-1, Televisión Rionegrina
http://panel.dattalive.com:1935/8204/8204/playlist.m3u8
`;


const channelList = document.getElementById('channel-list');
let hls = null;
const player = document.getElementById('player');

function playChannel(url) {
  if (hls) {
    hls.destroy();
  }
  hls = new Hls();
  hls.loadSource(url);
  hls.attachMedia(player);
  hls.on(Hls.Events.MANIFEST_PARSED, () => {
    player.play();
  });
}

const lines = m3uData.split('\n');
lines.forEach((line, index) => {
  if (line.startsWith('#EXTINF')) {
    const channelName = line.split(',')[1];
    const channelUrl = lines[index + 1];
    const listItem = document.createElement('li');
    listItem.innerHTML = `
      <a href="#" onclick="playChannel('${channelUrl}')">${channelName}</a>
    `;
    channelList.appendChild(listItem);
  }
});

function searchChannels() {
  const input = document.getElementById('channel-search').value.toLowerCase();
  const list = document.getElementById('channel-list');
  const items = list.getElementsByTagName('li');
  Array.from(items).forEach(item => {
    const channelName = item.textContent.toLowerCase();
    if (channelName.includes(input)) {
      item.style.display = 'flex';
    } else {
      item.style.display = 'none';
    }
  });
}


